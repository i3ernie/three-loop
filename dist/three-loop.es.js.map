{"version":3,"file":"three-loop.es.js","sources":["../src/Loop.js","../src/RenderingLoop.js"],"sourcesContent":["   \n//////////////////////////////////////////////////////////\n//\t\tLoop                            \t\t\t\t//\n//////////////////////////////////////////////////////////\n\n    const Loop = function(){\n        this._fcts = [];\n        this.animation = this.update.bind(this);\n    };\n\n    /**\n     * \n     * @param {function} fct\n     * @returns {function}\n     */\n    Loop.prototype.add\t= function( fct ){\n        this._fcts.push( fct );\n        return fct;\n    };\n\n    /**\n     * \n     * @param {function} fct\n     * @returns {undefined}\n     */\n    Loop.prototype.remove = function( fct ){\n        var index\t= this._fcts.indexOf( fct );\n        if( index === -1 )\treturn;\n        this._fcts.splice( index,1 );\n    };\n\n    /**\n     * \n     * @param {type} delta\n     * @returns {undefined}\n     */\n    Loop.prototype.update = function( time ){\n        this._fcts.forEach( function( fct ){\n            fct( time );\n        });\n    };\n\nexport {Loop};","import {Loop} from \"./Loop.js\";\n    \n//////////////////////////////////////////////////////////////////////////////////\n//\t\tTHREEx.RenderingLoop\t\t\t\t\t\t//\n//////////////////////////////////////////////////////////////////////////////////\nclass RenderingLoop extends Loop {\n    constructor ( renderer )\n    {\n        super();\n\n        this._isRunning = false;\n        this.renderer = renderer;\n\n        this.maxDelta\t= 0.2;\t\n        //////////////////////////////////////////////////////////////////////////////////\n        //\t\tstart/stop/isRunning functions\t\t\t\t\t//\n        //////////////////////////////////////////////////////////////////////////////////\n    \n        /**\n         * \n         * @returns {undefined}\n         */\n        this.start = function( obj ) {\n            console.assert( this._isRunning === false );\n\n            const scope = this;\n            this.add(function(){\n                scope.renderer.render( obj.scene, obj.camera );\n            });\n            this.renderer.setAnimationLoop( this.animation );\n            this._isRunning = true;\n            \n            return this;\n        };\n       \n    }\n\n    /**\n     * \n     * @returns {undefined}\n     */\n    stop () {\n\n        if( !this._isRunning ) { \n            return\n        };\n        this.renderer.setAnimationLoop( null );\n        this._isRunning = false;\n    }\n\n    /**\n     * \n     * @returns {Boolean}\n     */\n    isRunning () {\n        return !!this.isRunning;\n    }\n};\n\nexport { RenderingLoop, Loop };"],"names":["const"],"mappings":"AACA;AACA;AACA;AACA;AACA,IAAS,IAAC,IAAI,GAAG,UAAU;AAC3B,QAAQ,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;AACxB,QAAQ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAChD,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,GAAG,EAAE;AACxC,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC;AAC/B,QAAQ,OAAO,GAAG,CAAC;AACnB,KAAK,CAAC;AACN;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,GAAG,EAAE;AAC3C,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;AAC9C,QAAQ,IAAI,KAAK,KAAK,CAAC,CAAC,KAAG,OAAO,EAAA;AAClC,QAAQ,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC;AACrC,KAAK,CAAC;AACN;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE;AAC5C,QAAQ,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,GAAG,EAAE;AAC3C,YAAY,GAAG,EAAE,IAAI,EAAE,CAAC;AACxB,SAAS,CAAC,CAAC;AACX,KAAK;;ACtCL;AACA;AACA;AACA,MAAM,aAAa,SAAS,IAAI,CAAC;AACjC,IAAI,WAAW,CAAC,EAAE,QAAQ;AAC1B,IAAI;AACJ,QAAQ,KAAK,EAAE,CAAC;AAChB;AACA,QAAQ,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;AAChC,QAAQ,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACjC;AACA,QAAQ,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,IAAI,CAAC,KAAK,GAAG,UAAU,GAAG,GAAG;AACrC,YAAY,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,KAAK,KAAK,EAAE,CAAC;AACxD;AACA,YAAYA,IAAM,KAAK,GAAG,IAAI,CAAC;AAC/B,YAAY,IAAI,CAAC,GAAG,CAAC,UAAU;AAC/B,gBAAgB,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC;AAC/D,aAAa,CAAC,CAAC;AACf,YAAY,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC;AAC7D,YAAY,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACnC;AACA,YAAY,OAAO,IAAI,CAAC;AACxB,SAAS,CAAC;AACV;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,CAAC,GAAG;AACZ;AACA,QAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG;AAC/B,YAAY,MAAM;AAClB,SACA,QAAQ,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,IAAI,EAAE,CAAC;AAC/C,QAAQ,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;AAChC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAI,SAAS,CAAC,GAAG;AACjB,QAAQ,OAAO,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;AAChC,KAAK;AACL;;;;"}